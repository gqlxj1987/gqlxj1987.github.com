<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"gqlxj1987.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="DevilKing&#39;s blog">
<meta property="og:url" content="https://gqlxj1987.github.io/page/48/index.html">
<meta property="og:site_name" content="DevilKing&#39;s blog">
<meta property="og:locale">
<meta property="article:author" content="gqlxj1987">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://gqlxj1987.github.io/page/48/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>DevilKing's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">DevilKing's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">冷灯看剑，剑上几分功名？炉香无需计苍生，纵一穿烟逝，万丈云埋，孤阳还照古陵</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2019/04/04/akka-persistence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/04/04/akka-persistence/" class="post-title-link" itemprop="url">Akka Persistence</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-04-04 17:09:20" itemprop="dateCreated datePublished" datetime="2019-04-04T17:09:20+08:00">2019-04-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/akka/" itemprop="url" rel="index"><span itemprop="name">akka</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000010309436">原文链接</a></p>
<p>persistence actor</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">persistenceId</span> </span>= <span class="string">&quot;example&quot;</span> <span class="comment">//作为持久化Actor的唯一表示，用于持久化或者查询时使用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">receiveCommand</span></span>: <span class="type">Receive</span> = ??? <span class="comment">//Actor正常运行时处理处理消息逻辑，可在这部分内容里持久化自己想要的消息</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">receiveRecover</span></span>: <span class="type">Receive</span> = ??? <span class="comment">//Actor重启恢复是执行的逻辑</span></span><br></pre></td></tr></table></figure>



<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">LuckyEvent</span>(<span class="params">  //抽奖成功事件</span></span></span><br><span class="line"><span class="params"><span class="class">    userId: <span class="type">Long</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">    luckyMoney: <span class="type">Int</span></span></span></span><br><span class="line"><span class="params"><span class="class"></span>)</span></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">FailureEvent</span>(<span class="params">  //抽奖失败事件</span></span></span><br><span class="line"><span class="params"><span class="class">    userId: <span class="type">Long</span>,</span></span></span><br><span class="line"><span class="params"><span class="class">    reason: <span class="type">String</span></span></span></span><br><span class="line"><span class="params"><span class="class"></span>)</span></span><br><span class="line"><span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Lottery</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="class">    totalAmount: <span class="type">Int</span>,  //红包总金额</span></span></span><br><span class="line"><span class="params"><span class="class">    remainAmount: <span class="type">Int</span>  //剩余红包金额</span></span></span><br><span class="line"><span class="params"><span class="class"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span></span>(luckyMoney: <span class="type">Int</span>) = &#123;</span><br><span class="line">    copy(</span><br><span class="line">      remainAmount = remainAmount - luckyMoney</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LotteryActor</span>(<span class="params">initState: <span class="type">Lottery</span></span>) <span class="keyword">extends</span> <span class="title">PersistentActor</span> <span class="keyword">with</span> <span class="title">ActorLogging</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">persistenceId</span></span>: <span class="type">String</span> = <span class="string">&quot;lottery-actor-1&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> state = initState  <span class="comment">//初始化Actor的状态</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">receiveRecover</span></span>: <span class="type">Receive</span> = &#123;</span><br><span class="line">    <span class="keyword">case</span> event: <span class="type">LuckyEvent</span> =&gt;</span><br><span class="line">      updateState(event)  <span class="comment">//恢复Actor时根据持久化的事件恢复Actor状态</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">SnapshotOffer</span>(_, snapshot: <span class="type">Lottery</span>) =&gt;</span><br><span class="line">      log.info(<span class="string">s&quot;Recover actor state from snapshot and the snapshot is <span class="subst">$&#123;snapshot&#125;</span>&quot;</span>)</span><br><span class="line">      state = snapshot <span class="comment">//利用快照恢复Actor的状态</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">RecoveryCompleted</span> =&gt; log.info(<span class="string">&quot;the actor recover completed&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">updateState</span></span>(le: <span class="type">LuckyEvent</span>) =</span><br><span class="line">    state = state.update(le.luckyMoney)  <span class="comment">//更新自身状态</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">receiveCommand</span></span>: <span class="type">Receive</span> = &#123;</span><br><span class="line">    <span class="keyword">case</span> lc: <span class="type">LotteryCmd</span> =&gt;</span><br><span class="line">      doLottery(lc) <span class="keyword">match</span> &#123;     <span class="comment">//进行抽奖，并得到抽奖结果，根据结果做出不同的处理</span></span><br><span class="line">        <span class="keyword">case</span> le: <span class="type">LuckyEvent</span> =&gt;  <span class="comment">//抽到随机红包</span></span><br><span class="line">          persist(le) &#123; event =&gt;</span><br><span class="line">            updateState(event)</span><br><span class="line">            increaseEvtCountAndSnapshot()</span><br><span class="line">            sender() ! event</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">case</span> fe: <span class="type">FailureEvent</span> =&gt;  <span class="comment">//红包已经抽完</span></span><br><span class="line">          sender() ! fe</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;saveSnapshot&quot;</span> =&gt;  <span class="comment">// 接收存储快照命令执行存储快照操作</span></span><br><span class="line">      saveSnapshot(state)</span><br><span class="line">    <span class="keyword">case</span> <span class="type">SaveSnapshotSuccess</span>(metadata) =&gt;  ???  <span class="comment">//你可以在快照存储成功后做一些操作，比如删除之前的快照等</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">increaseEvtCountAndSnapshot</span></span>() = &#123;</span><br><span class="line">    <span class="keyword">val</span> snapShotInterval = <span class="number">5</span></span><br><span class="line">    <span class="keyword">if</span> (lastSequenceNr % snapShotInterval == <span class="number">0</span> &amp;&amp; lastSequenceNr != <span class="number">0</span>) &#123;  <span class="comment">//当有持久化5个事件后我们便存储一次当前Actor状态的快照</span></span><br><span class="line">      self ! <span class="string">&quot;saveSnapshot&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">doLottery</span></span>(lc: <span class="type">LotteryCmd</span>) = &#123;  <span class="comment">//抽奖逻辑具体实现</span></span><br><span class="line">    <span class="keyword">if</span> (state.remainAmount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">val</span> luckyMoney = scala.util.<span class="type">Random</span>.nextInt(state.remainAmount) + <span class="number">1</span></span><br><span class="line">      <span class="type">LuckyEvent</span>(lc.userId, luckyMoney)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="type">FailureEvent</span>(lc.userId, <span class="string">&quot;下次早点来，红包已被抽完咯！&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>actor里面，线程安全，关于数字的加减问题</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">PersistenceTest</span> <span class="keyword">extends</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">  <span class="keyword">val</span> lottery = <span class="type">Lottery</span>(<span class="number">10000</span>,<span class="number">10000</span>)</span><br><span class="line">  <span class="keyword">val</span> system = <span class="type">ActorSystem</span>(<span class="string">&quot;example-05&quot;</span>)</span><br><span class="line">  <span class="keyword">val</span> lotteryActor = system.actorOf(<span class="type">Props</span>(<span class="keyword">new</span> <span class="type">LotteryActor</span>(lottery)), <span class="string">&quot;LotteryActor-1&quot;</span>)  <span class="comment">//创建抽奖Actor</span></span><br><span class="line">  <span class="keyword">val</span> pool: <span class="type">ExecutorService</span> = <span class="type">Executors</span>.newFixedThreadPool(<span class="number">10</span>)</span><br><span class="line">  <span class="keyword">val</span> r = (<span class="number">1</span> to <span class="number">100</span>).map(i =&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="type">LotteryRun</span>(lotteryActor, <span class="type">LotteryCmd</span>(i.toLong,<span class="string">&quot;godpan&quot;</span>,<span class="string">&quot;xx@gmail.com&quot;</span>))  <span class="comment">//创建100个抽奖请求</span></span><br><span class="line">  )</span><br><span class="line">  r.map(pool.execute(_))  <span class="comment">//使用线程池来发起抽奖请求，模拟同时多人参加</span></span><br><span class="line">  <span class="type">Thread</span>.sleep(<span class="number">5000</span>)</span><br><span class="line">  pool.shutdown()</span><br><span class="line">  system.terminate()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LotteryRun</span>(<span class="params">lotteryActor: <span class="type">ActorRef</span>, lotteryCmd: <span class="type">LotteryCmd</span></span>) <span class="keyword">extends</span> <span class="title">Runnable</span> </span>&#123; <span class="comment">//抽奖请求</span></span><br><span class="line">  <span class="keyword">implicit</span> <span class="keyword">val</span> timeout = <span class="type">Timeout</span>(<span class="number">3.</span>seconds)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">run</span></span>: <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">      fut &lt;- lotteryActor ? lotteryCmd</span><br><span class="line">    &#125; <span class="keyword">yield</span> fut <span class="keyword">match</span> &#123;  <span class="comment">//根据不同事件显示不同的抽奖结果</span></span><br><span class="line">      <span class="keyword">case</span> le: <span class="type">LuckyEvent</span> =&gt; println(<span class="string">s&quot;恭喜用户<span class="subst">$&#123;le.userId&#125;</span>抽到了<span class="subst">$&#123;le.luckyMoney&#125;</span>元红包&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> fe: <span class="type">FailureEvent</span> =&gt;  println(fe.reason)</span><br><span class="line">      <span class="keyword">case</span> _ =&gt; println(<span class="string">&quot;系统错误，请重新抽取&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">persistAll(success.keys.toIndexedSeq) &#123;  <span class="comment">//批量持久化中奖用户事件</span></span><br><span class="line">      <span class="keyword">case</span> event =&gt;  println(event)</span><br><span class="line">        updateState(event)</span><br><span class="line">        increaseEvtCountAndSnapshot()</span><br><span class="line">        success(event) ! event</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>实现persitAll方法</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2019/03/27/akka-monitor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/03/27/akka-monitor/" class="post-title-link" itemprop="url">Akka Monitor</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-03-27 10:52:28" itemprop="dateCreated datePublished" datetime="2019-03-27T10:52:28+08:00">2019-03-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/akka/" itemprop="url" rel="index"><span itemprop="name">akka</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1014163">原文链接</a></p>
<p>对比起我们习惯的行令式（imperative）编程模式，Actor编程模式更接近现实中的应用场景和功能测试模式。这是因为Actor是靠消息来驱动的，每种消息代表一项功能的运算指令</p>
<p>由于每个Actor的运算都在自己独立的线程里进行，所以我们不必担心Actor函数在运行中的交叉调用问题。Akka程序本就是一种原生的多线程程序，每个Actor都在一个自己的线程内独立运算它的receive函数</p>
<p>关于actor自有线程的实现？</p>
<p>在Akka编程里我们可以把每段可能产生异常的代码放到一个独立的Actor中去运算</p>
<p>父级Actor对发生异常的子级Actor有以下几种处理方式：</p>
<p>1、恢复运算（Resume）：不必理会异常，保留当前状态，跳过当前异常消息，照常继续处理其它消息</p>
<p>2、重新启动（Restart）：清除当前状态，保留邮箱及内容，终止当前Actor，再重新构建一个新的Actor实例，沿用原来的消息地址ActorRef继续工作</p>
<p>3、彻底终止（Stop）：销毁当前Actor及ActorRef邮箱，把所有消息导向DeadLetter队列。</p>
<p>4、向上提交（Esculate）：如果父级无法处理子级异常，则这种情况也视为父级出现的异常。按照规定，父级会将自己和子级Actor运算暂停挂起并把子级Actor实际产生的异常当作自己发生的异常提交给上一层父级处理（也就是说异常信息的发送者sender变成了父级Actor）</p>
<p>Akka处理异常的方式简单直接：如果发生异常就先暂停挂起然后交给直属父级Actor去处理。这就把异常封闭在这个Actor的监管链条里。Akka系统的监管链条实际代表一个功能的分散封闭运算，所以一个监管链条里发生的异常不会影响其它监管链条。换句话说就是Actor发生异常是封闭在它所属的功能内部的，一个功能发生异常不会影响其它功能。</p>
<p>Akka提供了OneForOneStrategy和AllForOneStrategy两种对待异常Actor的策略配置</p>
<ul>
<li><p>OneForOneStrategy：只针对发生异常的Actor施用策略</p>
</li>
<li><p>AllForOneStrategy：虽然一个直属子级Actor发生了异常，监管父级Actor把它当作所有下属子级同时发生了相同异常，对所有子级Actor施用策略</p>
</li>
</ul>
<p>生命周期</p>
<p>preStart</p>
<p>preStop</p>
<p>Akka提供了一种逐步延时重启策略（BackoffSupervisor）</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> childProps = <span class="type">Props</span>(classOf[<span class="type">EchoActor</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> supervisor = <span class="type">BackoffSupervisor</span>.props(</span><br><span class="line">  <span class="type">Backoff</span>.onFailure(</span><br><span class="line">    childProps,</span><br><span class="line">    childName = <span class="string">&quot;myEcho&quot;</span>,</span><br><span class="line">    minBackoff = <span class="number">3.</span>seconds,</span><br><span class="line">    maxBackoff = <span class="number">30.</span>seconds,</span><br><span class="line">    randomFactor = <span class="number">0.2</span> <span class="comment">// adds 20% &quot;noise&quot; to vary the intervals slightly</span></span><br><span class="line">  ).withManualReset</span><br><span class="line">  .withSupervisorStrategy(</span><br><span class="line">    <span class="type">OneforOneStrategy</span>()&#123;</span><br><span class="line">      <span class="keyword">case</span> _: <span class="type">GivingUpException</span> =&gt; <span class="type">Stop</span></span><br><span class="line">      <span class="keyword">case</span> _: <span class="type">RetryableException</span> =&gt; <span class="type">Restart</span></span><br><span class="line">      <span class="keyword">case</span> _: <span class="type">MinorException</span> =&gt; <span class="type">Resume</span> </span><br><span class="line">    &#125;</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line">  </span><br><span class="line">system.actorOf(supervisor, name = <span class="string">&quot;echoSupervisor&quot;</span>)</span><br></pre></td></tr></table></figure>



<p>Akka提供了context.watch和context.unwatch来设置通过ActorRef对任何Actor的终止状态监视，无须父子级别关系要求。但是还是要求当前为actor？</p>
<p>生命周期监控函数中只有postStop被调用过，preRestart和postRestart都没引用。如果这样的话BackoffSupervisor就是一锤子买卖，是正真的let it crash模式体现了。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2019/03/25/Centralized-logging-in-K8s/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/03/25/Centralized-logging-in-K8s/" class="post-title-link" itemprop="url">Centralized logging in K8s</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-03-25 23:06:43" itemprop="dateCreated datePublished" datetime="2019-03-25T23:06:43+08:00">2019-03-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/k8s/" itemprop="url" rel="index"><span itemprop="name">k8s</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://medium.com/@maanadev/centralized-logging-in-kubernetes-d5a21ae10c6e">原文链接</a></p>
<p>采用logstash作为sidecar的方式，去收集日志，类似于当前的filebeat的模式</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">extensions/v1beta1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">wso2apim</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">minReadySeconds:</span> <span class="number">30</span></span><br><span class="line">  <span class="attr">strategy:</span></span><br><span class="line">    <span class="attr">rollingUpdate:</span></span><br><span class="line">      <span class="attr">maxSurge:</span> <span class="number">1</span></span><br><span class="line">      <span class="attr">maxUnavailable:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">RollingUpdate</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">deployment:</span> <span class="string">wso2apim</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">initContainers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">init-wso2-elasticsearch-service</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">busybox</span></span><br><span class="line">        <span class="attr">command:</span> [<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;until nc -z wso2-elasticsearch-service 9200; do echo waiting for wso2-elasticsearch-service; sleep 2; done;&#x27;</span>]</span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">wso2apim</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">wso2/wso2am:2.6.0</span></span><br><span class="line">        <span class="attr">livenessProbe:</span></span><br><span class="line">          <span class="attr">exec:</span></span><br><span class="line">            <span class="attr">command:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">/bin/bash</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">-c</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">nc</span> <span class="string">-z</span> <span class="string">localhost</span> <span class="number">9443</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">150</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">        <span class="attr">readinessProbe:</span></span><br><span class="line">          <span class="attr">exec:</span></span><br><span class="line">            <span class="attr">command:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="string">/bin/bash</span></span><br><span class="line">              <span class="bullet">-</span> <span class="string">-c</span></span><br><span class="line">              <span class="bullet">-</span> <span class="string">nc</span> <span class="string">-z</span> <span class="string">localhost</span> <span class="number">9443</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">150</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">Always</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">8280</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">8243</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">9763</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">9443</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">5672</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">9711</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">9611</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">7711</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="bullet">-</span></span><br><span class="line">          <span class="attr">containerPort:</span> <span class="number">7611</span></span><br><span class="line">          <span class="attr">protocol:</span> <span class="string">&quot;TCP&quot;</span></span><br><span class="line">        <span class="attr">volumeMounts:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shared-logs</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/home/wso2carbon/wso2am-2.6.0/repository/logs/</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logstash</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">maanadev/logstash:6.5.3-custom</span></span><br><span class="line">        <span class="attr">volumeMounts:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shared-logs</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/usr/share/logstash/mylogs/</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logstash-yml</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/usr/share/logstash/config/logstash.yml</span></span><br><span class="line">          <span class="attr">subPath:</span> <span class="string">logstash.yml</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logstash-conf</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/usr/share/logstash/pipeline/logstash.conf</span></span><br><span class="line">          <span class="attr">subPath:</span> <span class="string">logstash.conf</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NODE_ID</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">&quot;wso2-apim&quot;</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">NODE_IP</span></span><br><span class="line">          <span class="attr">valueFrom:</span></span><br><span class="line">            <span class="attr">fieldRef:</span></span><br><span class="line">             <span class="attr">fieldPath:</span> <span class="string">status.podIP</span></span><br><span class="line">      <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shared-logs</span></span><br><span class="line">        <span class="attr">emptyDir:</span> &#123;&#125;</span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logstash-yml</span></span><br><span class="line">        <span class="attr">configMap:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">logstash-yml</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">logstash-conf</span></span><br><span class="line">        <span class="attr">configMap:</span></span><br><span class="line">						<span class="attr">name:</span> <span class="string">logstash-conf</span></span><br></pre></td></tr></table></figure>



<p>采用伴生容器的方式</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2019/03/25/The-Affinity-Between-Events-Streams-and-Serverless/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/03/25/The-Affinity-Between-Events-Streams-and-Serverless/" class="post-title-link" itemprop="url">The Affinity Between Events, Streams and Serverless</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-03-25 22:28:23" itemprop="dateCreated datePublished" datetime="2019-03-25T22:28:23+08:00">2019-03-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/architecture/" itemprop="url" rel="index"><span itemprop="name">architecture</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://www.confluent.io/blog/journey-to-event-driven-part-3-affinity-between-events-streams-serverless">原文链接</a></p>
<p>The key to event-first systems design is understanding that a series of events captures behavior. By persisting the streams in Kafka we then have a record of all system activity (a source of truth), and also a mechanism to drive reactions. </p>
<h3 id="FaaS"><a href="#FaaS" class="headerlink" title="FaaS"></a>FaaS</h3><p>FaaS is the ability to take a function and run it somewhere in the cloud; it’s the “compute” part of the serverless stack where you bring your own code.</p>
<p>The function contains a bespoke logic block. It is then called via some kind of registry like an API gateway, or it is scheduled or triggered by a cloud-related event (i.e., data written to Amazon S3).</p>
<p>There are many benefits to FaaS:</p>
<ul>
<li>Lightweight</li>
<li>Decoupled</li>
<li>Scalable</li>
<li>Very cost efficient (pay per use)</li>
</ul>
<p>They are processed in isolation to perform simple enrichment and filtering before passing to a storage layer or queue. If the system<br>needs to guarantee event ordering when writing to an output stream then, as previously discussed, concurrent FaaS execution will lead to corruption unless they are synchronously driven at the partition level.</p>
<p>主要针对stateless的stream，FaaS的优势就体现出来了</p>
<blockquote>
<h4 id="Caveat-emptor-FaaS-gives-us-an-excellent-solution-where-processing-is-atomic-stateless-reliable-latency-is-not-a-concern-1–100-ms-and-the-order-of-processing-is-not-important-Stateful-processing-is-also-suitable-provided-that-it-is-against-an-external-resource-and-stale-data-concerns-are-understood"><a href="#Caveat-emptor-FaaS-gives-us-an-excellent-solution-where-processing-is-atomic-stateless-reliable-latency-is-not-a-concern-1–100-ms-and-the-order-of-processing-is-not-important-Stateful-processing-is-also-suitable-provided-that-it-is-against-an-external-resource-and-stale-data-concerns-are-understood" class="headerlink" title="Caveat emptor: FaaS gives us an excellent  solution where processing is atomic (stateless), reliable latency is not  a concern (1–100 ms) and the order of processing is not important.  Stateful processing is also suitable provided that it is against an  external resource and stale data concerns are understood."></a>Caveat emptor: FaaS gives us an excellent  solution where processing is atomic (stateless), reliable latency is not  a concern (1–100 ms) and the order of processing is not important.  Stateful processing is also suitable provided that it is against an  external resource and stale data concerns are understood.</h4></blockquote>
<p><strong>FaaS event-driven principles:</strong></p>
<ol>
<li><strong>In band but edge</strong> (stateless on the way in or out), i.e., map user GeoIP to a geocell</li>
<li><strong>In band, stateless and not latency sensitive</strong></li>
<li><strong>In band and enriched against external resources</strong>, i.e., enrich a user’s address</li>
<li><strong>Out of band, but edge:</strong>  This is FaaS processing on a known set of data in response to an event  where there is no downstream stream processing. For example, you can  perform large-scale analytic processing of all auction site bidders  against “cars in 2018” (a non-event-streaming problem).</li>
<li><strong>Ad hoc requests, but not streaming:</strong>  They tend to be historic. If a large set of data is to be processed,  then it is likely to be batch oriented. Historic analytics include Monte  Carlo simulation, raw number crunching of event data, etc.</li>
</ol>
<p>尽量在一些对时间不敏感的位置，偶尔的请求，但不要持续性。。</p>
<h3 id="Next"><a href="#Next" class="headerlink" title="Next"></a>Next</h3><p>The CNCF Serverless Working Group (which Confluent participates in) is shaping how FaaS will look in the next couple of years. There is a grand plan that CloudEvents should be publishable, emit through multiple transports and clouds and be consumed by a destination function that is written in any language.(有关CloudEvents部分)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2019/03/21/AutoML-and-Neural-Architecture-Search/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2019/03/21/AutoML-and-Neural-Architecture-Search/" class="post-title-link" itemprop="url">AutoML and Neural Architecture Search</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-03-21 23:55:48" itemprop="dateCreated datePublished" datetime="2019-03-21T23:55:48+08:00">2019-03-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/automl/" itemprop="url" rel="index"><span itemprop="name">automl</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://towardsdatascience.com/everything-you-need-to-know-about-automl-and-neural-architecture-search-8db1863682bf">原文链接</a></p>
<p>NAS is an algorithm that <em>searches</em> for the best <em>neural network architecture</em>.(Neural Architecture Search)</p>
<p>In the NAS algorithm, a controller Recurrent Neural Network (RNN) samples these building blocks, putting them together to create some kind of end-to-end architecture.</p>
<p>the search space itself is quite limited. NAS is designed to build architectures that are very similar in style to the current state-of-the-art.(重复性)</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/47/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/47/">47</a><span class="page-number current">48</span><a class="page-number" href="/page/49/">49</a><span class="space">&hellip;</span><a class="page-number" href="/page/132/">132</a><a class="extend next" rel="next" href="/page/49/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="gqlxj1987"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">gqlxj1987</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">656</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">239</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">245</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
<div class="site-state-wrap motion-element subtitle">冷灯看剑，剑上几分功名？炉香无需计苍生，纵一穿烟逝，万丈云埋，孤阳还照古陵</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">gqlxj1987</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
