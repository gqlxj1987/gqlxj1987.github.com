<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"gqlxj1987.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="DevilKing&#39;s blog">
<meta property="og:url" content="https://gqlxj1987.github.io/page/77/index.html">
<meta property="og:site_name" content="DevilKing&#39;s blog">
<meta property="og:locale">
<meta property="article:author" content="gqlxj1987">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://gqlxj1987.github.io/page/77/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>

  <title>DevilKing's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">DevilKing's blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">冷灯看剑，剑上几分功名？炉香无需计苍生，纵一穿烟逝，万丈云埋，孤阳还照古陵</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2018/07/31/kafka-rest-proxy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/31/kafka-rest-proxy/" class="post-title-link" itemprop="url">Kafka Rest Proxy</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-31 15:19:01" itemprop="dateCreated datePublished" datetime="2018-07-31T15:19:01+08:00">2018-07-31</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/kafka/" itemprop="url" rel="index"><span itemprop="name">kafka</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://docs.confluent.io/current/kafka-rest/docs/intro.html#quickstart">原文链接</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Produce a message using JSON with the value <span class="string">&#x27;&#123; &quot;foo&quot;: &quot;bar&quot; &#125;&#x27;</span> to the topic jsontest</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> curl -X POST -H <span class="string">&quot;Content-Type: application/vnd.kafka.json.v2+json&quot;</span> \</span></span><br><span class="line"><span class="bash">      -H <span class="string">&quot;Accept: application/vnd.kafka.v2+json&quot;</span> \</span></span><br><span class="line"><span class="bash">      --data <span class="string">&#x27;&#123;&quot;records&quot;:[&#123;&quot;value&quot;:&#123;&quot;foo&quot;:&quot;bar&quot;&#125;&#125;]&#125;&#x27;</span> <span class="string">&quot;http://localhost:8082/topics/jsontest&quot;</span></span></span><br><span class="line">  &#123;&quot;offsets&quot;:[&#123;&quot;partition&quot;:0,&quot;offset&quot;:0,&quot;error_code&quot;:null,&quot;error&quot;:null&#125;],&quot;key_schema_id&quot;:null,&quot;value_schema_id&quot;:null&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Create a consumer <span class="keyword">for</span> JSON data, starting at the beginning of the topic<span class="string">&#x27;s</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string"> log and subscribe to a topic. Then consume some data using the base URL in the first response.</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string"> Finally, close the consumer with a DELETE to make it leave the group and clean up</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string"> its resources.</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="string"> curl -X POST -H &quot;Content-Type: application/vnd.kafka.v2+json&quot; \</span></span></span><br><span class="line"><span class="string"><span class="bash">      --data &#x27;</span>&#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;my_consumer_instance&quot;</span>, <span class="string">&quot;format&quot;</span>: <span class="string">&quot;json&quot;</span>, <span class="string">&quot;auto.offset.reset&quot;</span>: <span class="string">&quot;earliest&quot;</span>&#125;<span class="string">&#x27; \</span></span></span><br><span class="line"><span class="string"><span class="bash">      http://localhost:8082/consumers/my_json_consumer</span></span></span><br><span class="line">  &#123;&quot;instance_id&quot;:&quot;my_consumer_instance&quot;,</span><br><span class="line">  &quot;base_uri&quot;:&quot;http://localhost:8082/consumers/my_json_consumer/instances/my_consumer_instance&quot;&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="string"> curl -X POST -H &quot;Content-Type: application/vnd.kafka.v2+json&quot; --data &#x27;</span>&#123;<span class="string">&quot;topics&quot;</span>:[<span class="string">&quot;jsontest&quot;</span>]&#125;<span class="string">&#x27; \</span></span></span><br><span class="line"><span class="string"><span class="bash"> http://localhost:8082/consumers/my_json_consumer/instances/my_consumer_instance/subscription</span></span></span><br><span class="line"><span class="meta"> #</span><span class="bash"><span class="string"> No content in response</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="string"> curl -X GET -H &quot;Accept: application/vnd.kafka.json.v2+json&quot; \</span></span></span><br><span class="line"><span class="string"><span class="bash">      http://localhost:8082/consumers/my_json_consumer/instances/my_consumer_instance/records</span></span></span><br><span class="line">  [&#123;&quot;key&quot;:null,&quot;value&quot;:&#123;&quot;foo&quot;:&quot;bar&quot;&#125;,&quot;partition&quot;:0,&quot;offset&quot;:0,&quot;topic&quot;:&quot;jsontest&quot;&#125;]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"><span class="string"> curl -X DELETE -H &quot;Content-Type: application/vnd.kafka.v2+json&quot; \</span></span></span><br><span class="line"><span class="string"><span class="bash">      http://localhost:8082/consumers/my_json_consumer/instances/my_consumer_instance</span></span></span><br><span class="line"><span class="meta">  #</span><span class="bash"><span class="string"> No content in response</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>Rest Proxy指的是，rest的接口进行producer以及consumer部分的操作？</p>
<p><strong>REST Proxy Clusters and Load Balancing</strong> - The REST Proxy is designed to support multiple instances running together to spread load and can safely be run behind various load balancing mechanisms (e.g. round robin DNS, discovery services, load balancers) as long as instances are <a target="_blank" rel="noopener" href="https://docs.confluent.io/current/kafka-rest/docs/deployment.html#kafkarest-deployment">configured correctly</a>.</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2018/07/30/one-week/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/30/one-week/" class="post-title-link" itemprop="url">loser</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-30 22:14:50" itemprop="dateCreated datePublished" datetime="2018-07-30T22:14:50+08:00">2018-07-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/weekly/" itemprop="url" rel="index"><span itemprop="name">weekly</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>アイムアルーザー 　　</p>
<p>我是个loser 　　</p>
<p>どうせだったら 　　</p>
<p>所以就算 　　</p>
<p>远吠えだっていいだろう 　　</p>
<p>虚张声势也无所谓吧 　　</p>
<p>もう一回もう一回行こうぜ 　　</p>
<p>再一次再一次前行吧</p>
<hr>
<p>本周工作：</p>
<ul>
<li>交接文档的编写，基本ok</li>
<li>k8s的一些入门，在本地的minikube的启动部分</li>
</ul>
<p>下周工作：</p>
<ul>
<li>交接部分的讲解，一些查漏补缺</li>
<li>关于spring boot部分的重新拣起来</li>
</ul>
<p>离职的工作，按部就班地进行，不过，关于新知识的储备方面，感觉还是有些偏慢，要加快一些速度，把本地的一些环境什么的，基本知识什么的重新学习起来。。。</p>
<p>loser，再一次前行，钱的事情，慢慢挤出来，慢慢地缓解一些压力，先把银行的还了。。。</p>
<p>果然还是捉摸不定，情绪上时好时坏，是自己太任性了，没有考虑别人的承受能力，一心地想当然，哎。。。或许自己当初的那个决定是错误的，还是希望，有个好的结果，这样起码状态上会有好些，至于自身，还是少些想当然吧，慢慢地承受，尽可能地照顾好别人，这样，别人在追求更好更舒适的环境，自己也稍微能心安理得一些，自己也没什么特别让人家眷恋的地方，人家完全有条件去获得更好的。。。还是当好一个acer，安安静静地就行了。。。</p>
<p>锻炼上，进一步加强，跑步上，维持在5’30的配速，进一步拉长跑步的时间，加油。。。</p>
<p>再一次前行！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2018/07/30/yaml-intro/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/30/yaml-intro/" class="post-title-link" itemprop="url">Yaml Intro</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-30 16:54:18" itemprop="dateCreated datePublished" datetime="2018-07-30T16:54:18+08:00">2018-07-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/yaml/" itemprop="url" rel="index"><span itemprop="name">yaml</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://arp242.net/weblog/yaml_probably_not_so_great_after_all.html?utm_campaign=CodeTengu&utm_medium=email&utm_source=CodeTengu_136">原文链接</a></p>
<h4 id="can-be-hard-to-edit-for-large-files"><a href="#can-be-hard-to-edit-for-large-files" class="headerlink" title="can be hard to edit, for large files"></a>can be hard to edit, for large files</h4><p>It is difficult to see “where” in the file you are because it may be off the screen. You’ll need to scroll up, but then you need to keep track of the indentation, which can be pretty hard even with indentation guides, especially since 2-space indentation is the norm and <a target="_blank" rel="noopener" href="http://www.yaml.org/faq.html">tab indentation is forbidden</a><a target="_blank" rel="noopener" href="https://arp242.net/weblog/yaml_probably_not_so_great_after_all.html?utm_campaign=CodeTengu&utm_medium=email&utm_source=CodeTengu_136#fn:2">2</a>.</p>
<p>主要的几种配置文件格式：</p>
<p>The <a target="_blank" rel="noopener" href="http://yaml.org/spec/1.2/spec.pdf">YAML spec</a> is 23,449 words; for comparison, <a target="_blank" rel="noopener" href="https://github.com/toml-lang/toml">TOML</a> is 3,339 words, <a target="_blank" rel="noopener" href="http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf">JSON</a> is 1,969 words, and <a target="_blank" rel="noopener" href="https://www.w3.org/TR/REC-xml/">XML</a> is 20,603 words.</p>
<p>一些关于value的类型的解释</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">python:</span> <span class="number">3.5</span><span class="number">.3</span></span><br><span class="line"><span class="attr">postgres:</span> <span class="number">9.3</span></span><br></pre></td></tr></table></figure>

<p>解释成为</p>
<p><code>&#123;&#39;python&#39;: &#39;3.5.3&#39;, &#39;postgres&#39;: 9.3&#125;</code></p>
<p>All of this – and more – is why many experienced YAMLers will often quote all strings, even when it’s not strictly required</p>
<p>不同语言解析上，可能yaml的解析规则上有所不同？</p>
<p>The reason for this is that there are multiple YAML documents in a single file (<code>---</code> start the document). In Python there is the <code>load_all()</code> function to parse all documents. Ruby’s <code>load()</code> just loads the first document, and as near as I can tell, doesn’t have a way to load multiple documents.</p>
<h4 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h4><p>并不是说yaml不好，只是指明yaml不能够更greater</p>
<p>可以尝试更好的方式，such as <a target="_blank" rel="noopener" href="https://github.com/toml-lang/toml">TOML</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2018/07/30/go-cloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/30/go-cloud/" class="post-title-link" itemprop="url">Go Cloud</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-30 16:00:56" itemprop="dateCreated datePublished" datetime="2018-07-30T16:00:56+08:00">2018-07-30</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/" itemprop="url" rel="index"><span itemprop="name">golang</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://blog.golang.org/go-cloud">原文链接</a></p>
<p>One common theme with many organizations is the need for portability across cloud providers. These teams want to deploy robust applications in <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cloud_computing#Multicloud">multi-cloud</a> and <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cloud_computing#Hybrid_cloud">hybrid-cloud</a> environments, and migrate their workloads between cloud providers without significant changes to their code.</p>
<p>Go Cloud is launching with blob storage, MySQL database access, runtime configuration, and an HTTP server configured with request logging, tracing, and health checking. Go Cloud offers support for Google Cloud Platform (GCP) and Amazon Web Services (AWS). We plan to work with cloud industry partners and the Go community to add support for additional cloud providers very soon</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setupBucket opens an AWS bucket.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupBucket</span><span class="params">(ctx context.Context)</span> <span class="params">(*blob.Bucket, error)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Obtain AWS credentials.</span></span><br><span class="line">    sess, err := session.NewSession(&amp;aws.Config&#123;</span><br><span class="line">        Region: aws.String(<span class="string">&quot;us-east-2&quot;</span>),</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Open a handle to s3://go-cloud-bucket.</span></span><br><span class="line">    <span class="keyword">return</span> s3blob.OpenBucket(ctx, sess, <span class="string">&quot;go-cloud-bucket&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// setupBucket opens a GCS bucket.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupBucket</span><span class="params">(ctx context.Context)</span> <span class="params">(*blob.Bucket, error)</span></span> &#123;</span><br><span class="line">    <span class="comment">// Open GCS bucket.</span></span><br><span class="line">    creds, err := gcp.DefaultCredentials(ctx)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    c, err := gcp.NewHTTPClient(gcp.DefaultTransport(), gcp.CredentialsTokenSource(creds))</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Open a handle to gs://go-cloud-bucket.</span></span><br><span class="line">    <span class="keyword">return</span> gcsblob.OpenBucket(ctx, <span class="string">&quot;go-cloud-bucket&quot;</span>, c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>针对不同的云平台，相关的bucket的设置不同罢了。。</p>
<p>原理上，就是将对云的一些操作，集成到go-cloud里面去</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://gqlxj1987.github.io/2018/07/23/incomplete-guide-for-kubernetes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="gqlxj1987">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DevilKing's blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/23/incomplete-guide-for-kubernetes/" class="post-title-link" itemprop="url">Incomplete Guide for Kubernetes</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-07-23 11:04:54" itemprop="dateCreated datePublished" datetime="2018-07-23T11:04:54+08:00">2018-07-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/k8s/" itemprop="url" rel="index"><span itemprop="name">k8s</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://vinta.ws/code/the-complete-guide-to-google-kubernetes-engine-gke.html?utm_campaign=CodeTengu&utm_medium=email&utm_source=CodeTengu_135">原文链接</a></p>
<h2 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h2><p>Nodes:</p>
<ul>
<li>Cluster: A set of machines, called nodes, that run containerized applications.</li>
<li>Node: A single virtual or physical machine that provides hardware resources.</li>
<li>Edge Node: The node which is exposed to the Internet.</li>
<li>Master Node: The node which is responsible for managing the whole cluster.</li>
</ul>
<p>Objects:</p>
<ul>
<li>Pod: A group of one or more tightly related containers. Each pod is like a logical host has its own IP and hostname.</li>
<li>PodPreset: A set of pre-defined configurations can be injected into Pods automatically.</li>
<li>Service: A load balancer of a set of Pods which selected by labels, also called Service Discovery.</li>
<li>Ingress: A revered proxy acts as an entry point to the cluster, which allows domain-based and path-based routing to different Services.</li>
<li>ConfigMap: Key-value configuration data can be mounted into containers or consumed as environment variables.</li>
<li>Secret: Similar to ConfigMap but for storing sensitive data only.</li>
<li>Volume: A ephemeral file system whose lifetime is the same as the Pod.</li>
<li>PersistentVolume: A persistent file system that can be mounted to the cluster, without being associated with any particular node.</li>
<li>PersistentVolumeClaim: A binding between a Pod and a PersistentVolume.</li>
<li>StorageClass: A storage provisioner which allows users request storages dynamically.</li>
<li>Namespace: The way to partition a single cluster into multiple virtual groups.</li>
</ul>
<p>Controllers:</p>
<ul>
<li>ReplicationController: Ensures that a specified number of Pods are always running.</li>
<li>ReplicaSet: The next-generation ReplicationController.</li>
<li>Deployment: The recommended way to deploy stateless Pods.</li>
<li>StatefulSet: Similar to Deployment but provides guarantees about the ordering and unique names of Pods.</li>
<li>DaemonSet: Ensures a copy of a Pod is running on every node.</li>
<li>Job: Creates Pods that runs to completion (exit with 0).</li>
<li>CronJob: A Job which can run at a specific time or run regularly.</li>
<li>HorizontalPodAutoscaler: Automatically scales the number of Pods based on CPU and memory utilization or custom metric targets.</li>
</ul>
<p>Pods have following life cycles (states):</p>
<ul>
<li>Pending</li>
<li>Running</li>
<li>Succeeded</li>
<li>Failed</li>
<li>Unknown</li>
</ul>
<p>ConfigMap的作用？</p>
<p>关于ingress部分</p>
<p>Pods in Kubernetes are not reachable from outside the cluster, so you need a way to expose your Pods to the Internet. Even though you could associate Pods with a Service of the right type, i.e., <code>NodePort</code> or <code>LoadBalancer</code>, the recommended way to expose services is using Ingress. You can do a lot of different things with an Ingress, and there are many types of Ingress controllers that have different capabilities.</p>
<p>There are some reasons to choose Ingress over Service:</p>
<ul>
<li>Service is internal load balancers and Ingress is a gateway of external access to Services</li>
<li>Service is L3 load balancer and Ingress is L7 load balancer</li>
<li>Ingress allows domain-based and path-based routing to different Services</li>
<li>It is not efficent to create a cloud provider’s load balancer for each Service you want to expose</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/76/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/76/">76</a><span class="page-number current">77</span><a class="page-number" href="/page/78/">78</a><span class="space">&hellip;</span><a class="page-number" href="/page/129/">129</a><a class="extend next" rel="next" href="/page/78/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="gqlxj1987"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">gqlxj1987</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">644</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">236</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">240</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
<div class="site-state-wrap motion-element subtitle">冷灯看剑，剑上几分功名？炉香无需计苍生，纵一穿烟逝，万丈云埋，孤阳还照古陵</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">gqlxj1987</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
