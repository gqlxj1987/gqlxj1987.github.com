<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.19"><meta name="description" content="2013Qcon散记"><title>2013Qcon散记</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/_title_.8kzbYMPX.css"><script type="module">const e=()=>{document.querySelectorAll(".animate").forEach((t,s)=>{setTimeout(()=>{t.classList.add("show")},s*150)})};e();document.addEventListener("astro:after-swap",e);
</script></head> <body> <header> <div class="mx-auto max-w-screen-sm px-5">  <div class="flex flex-wrap gap-y-2 justify-between"> <a href="/" class="font-semibold hover:underline underline-offset-2">
Blog
</a> <nav class="flex gap-1">  <a href="/archive" class="hover:underline underline-offset-2"> Archive </a> <span>/</span> <a href="/about" class="hover:underline underline-offset-2"> About </a>  </nav> </div>  </div> </header> <main>  <div class="mx-auto max-w-screen-sm px-5">  <div class="animate"> <a href="/archive" class="hover:underline underline-offset-2">
← Back to archive
</a> </div> <div class="space-y-1 my-10"> <div class="animate flex items-center gap-1.5"> <div class="font-base text-sm"> <time datetime="2013-05-04T00:00:00.000Z"> May 4, 2013 </time> </div> </div> <div class="animate text-2xl font-semibold text-black dark:text-white"> 2013Qcon散记 </div> <div class="animate flex flex-wrap gap-2 mt-4"> <span class="text-xs px-2 py-1 rounded bg-stone-200 dark:bg-stone-800"> Qcon </span> </div> </div> <article class="animate"> <p>作为第一次去参加这种级别的会议，心里还是有些期待，不过由于时间点不好，只是听最后一天的演讲，回来之后也就是大抵如此的感觉，一半扯淡一半干货吧。</p>
<p>首先是雪球网的node.js的相关的分享。对于node.js，自己基本不熟悉，但这场演讲居然也能听的进去，果然是入门级的（对于另一些的node.js来说是不是过于入门级。。）。node.js出现的背景在于前端工程师对于仅仅学习html/js一套，对于去写jsp页面的不满，去配合后端java写业务的不满，于是前端工程师也可以用写js的方式来写后端。这里面，谈到的一个很关键一点是，node可以兼容之前的做法，即：一、用ajax的方式去获取后端数据，二、用js去拼接json数据。个人觉得这两个关键点是促成node.js发展的一个很关键的因素。而后，分享举了一些实际的工作编程中以及迁移中遇到的问题。如，node也有相关的模板语言，如何选择好的模板语言，这里提到了**[mustache][1]**，它是一种支持多种语言的轻量级的模板语言，所谓轻量级，应该是指其支持json数据尤其出色；js中也有异常处理，针对这部分的异常，如何去抓住，这里提到了 <a href="http://debuggable.com/posts/node-js-dealing-with-uncaught-exceptions:4c933d54-1428-443c-928d-4e1ecbdd56cb">uncaughException</a>；针对异常的抛出，node采用的是一层抛一层的方式(是不是跟java中的抛出异常不一样？)，也就是上层对下层抛出的异常是透明，这样必然会带来多种嵌套的问题；最关键的是node的实际生产环境必然会有大量的并发请求的问题，这样一种并发执行会带来什么样的问题，如何去避免这样的问题？最后是相关的一个总结，</p>
<ul>
<li>如找到靠谱的错误处理，针对node的异常抛出问题，不能简单的抛出；</li>
<li>全局变量和局部变量的区分问题，这里举的是var的例子，分享者针对这一点讲到他们的命名规则是内存变量加上_，不过个人觉得，难道前端工程师对于全局和局部变量的区分度很差吗？为什么会出现缺var这样的错误？不过这样的命名规则可以用来考虑。</li>
<li>打日志是很好的调试工具，简单可靠。</li>
</ul>
<p>技术上的分享大抵如此，不过在演讲过程中，一个很有意思的思路是将雪球网将某些人的言论跟金融趋势图去联系在一起，从而来验证实际的发展跟当时的言论是否匹对，将足彩的那一套沿用到金融里，而且更进一步用图标增长的方式，比足彩更形象。</p>
<p>然后是听了一下有道云笔记的云端架构。其实对于云端架构这个东西，其架构图基本沿用GFS那套，还是依旧的三方的架构。只不过，这里提到的笔记的需求是，1、随时编辑，2、历史版本查阅，3、协同，分享。于是，原来针对数据部分的频繁修改操作扩展到meta数据上，通过meta的数据的修改，以及对应到不同的meta数据来实现相关的笔记的需求。这种思路，类似于linux的软链接的方式。这里，说一下觉得很有意思的几个点：</p>
<ul>
<li>随着移动设备的兴起，笔记方面有移动端的需求，这在之前的分布式的框架中没有想到过的。于是，笔记方面，增加了一层协议分析层，遵从不同的设备使用不同的api的方式，虽然pc端和手机端看到的内容是相同的，但其内部的api处理的方式是不同。例如，pc端，可以采用一块一块读取的方式呈献给用户信息，meta数据的处理也可以部分放在客户端来进行，但在移动端，就不行，需要全文完整地传递完后呈献给用户，并且相关的meta的处理也会随着内容一起上传回去。也就是，底层的数据相同，但针对不同的端，其处理、读取的方式是完全不同的。</li>
<li>针对笔记，免不了并行操作，这就要考虑相关的操作隔离。这里在我们平常所谓的数据锁的基础上再加一层，剔除逻辑数据块锁，其仅保证对同一数据的操作分发到同一个逻辑存储模块，这样我们不用直接跟底层的数据块打交道，只需对我们所设计的逻辑数据块来操作，这样带来的好处也是明显的，逻辑数据块的大小和相关的锁操作是我们可以自定义的，灵活。</li>
<li>底层云这块，架构方面依然是文件系统那套的规则，果然是，越底层，其大变化的周期越长，而这里更需要上层所谓的微创新，需要你根据特定的环境所做的一点小的变化。其实对于java这种企业级的框架以及语言来说，这个道理也是说的通的。</li>
</ul>
<p>第三场的演讲则是jboss云方面，这场基本在扯淡，首先扯了一大堆的构建企业混合云的必要性和背景，然后是介绍其所在jboss团队推出的as7。这里有意思的一点是，云针对多租户应用架构的变化。这里提到了针对这种情况，会出现两种对象，一是有状态的对象，这种通过调用者和应用名称可以锁定，另一种就是无状态的对象，需通过传递两个以上的信息来锁定。这里的思路，可以用在icafe的流程引擎中，针对action方面，也存在有状态的action和无状态的action，所以这块的多租户应用架构，可以去考虑实现在icafe的流程引擎中。</p>
<p>最后一场的演讲则是ebay的下一代数据集成平台的介绍，其核心在于介绍<a href="http://zh.wikipedia.org/wiki/ETL">ETL</a>,即这种用在数据仓库中，去萃取和提取相关的信息，而ebay方面则用在日志的抽取和转置上。这个跟上周oracle的那个bi系统很类似，一样也是利用ETL来转置数据。这里讲几点：</p>
<ul>
<li>类似这种日志处理的程序来说，其需要考虑多种数据源的流入，例如，需要多个数据库的多张表的情况，所以关于数据源的配置必须是灵活多变的，</li>
<li>由于数据源的灵活多变，所以其处理过程也是千变万化，于是，提出了</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="plaintext"><code><span class="line"><span>ETL ID specific State files</span></span>
<span class="line"><span>```,这个是实现所谓的metadata driven everything的基础。这里的ETL metadata是指，ETL过程中的workload, data lineage, ETL Job State, Resource tracking and metrics等。通过这些信息，我们可以了解这次ETL的所有信息。</span></span>
<span class="line"><span>*	定期的对metadata进行collection操作，分析其中的信息，例如，可以统计每张表的使用频度，方便我们进行数据的合理化处理。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>可能ETL方面更加不为人所知，最后一场涉及到的名词也是所有听到的演讲中所涉及到的专有名词也是最多的。像什么VDM，TDWI等。不过，其ETL的过程很类似icafe的流程引擎部分，只不过有一点很重要的是，icafe关于数据的层次的划分很不明显，虽然有很多的表，但表之间的关系，并没有层次关系，没有很强的metadata的特征，这块可以在后面进行加强和改造。</span></span>
<span class="line"><span></span></span>
<span class="line"><span>基本上，四场演讲听下来，人也有些疲倦，然后是坑爹的吃中饭环节，会议的自助，尤其针对屌丝程序员这种，基本不够看的。。哎，于是，直接出了会议，跟着另一个路盲的同事，幸亏有百度地图，找到麦当劳，凑合一顿。于是第一次的Qcon之旅over。</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[1]: http://mustache.github.io/ "mustache"</span></span>
<span class="line"><span></span></span></code></pre> </article>  </div>  </main> <footer class="animate" data-astro-cid-sz7xmlte> <div class="mx-auto max-w-screen-sm px-5">  <div class="flex justify-between items-center" data-astro-cid-sz7xmlte> <div data-astro-cid-sz7xmlte>
&copy; 2026 | Blog
</div> <div class="flex flex-wrap gap-1 items-center" data-astro-cid-sz7xmlte> <button id="light-theme-button" aria-label="Light theme" class="group size-8 flex items-center justify-center rounded-full" data-astro-cid-sz7xmlte> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out" data-astro-cid-sz7xmlte> <circle cx="12" cy="12" r="5" data-astro-cid-sz7xmlte></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-sz7xmlte></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-sz7xmlte></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-sz7xmlte></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-sz7xmlte></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-sz7xmlte></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-sz7xmlte></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-sz7xmlte></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-sz7xmlte></line> </svg> </button> <button id="dark-theme-button" aria-label="Dark theme" class="group size-8 flex items-center justify-center rounded-full" data-astro-cid-sz7xmlte> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out" data-astro-cid-sz7xmlte> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-sz7xmlte></path> </svg> </button> <button id="system-theme-button" aria-label="System theme" class="group size-8 flex items-center justify-center rounded-full" data-astro-cid-sz7xmlte> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out" data-astro-cid-sz7xmlte> <rect x="2" y="3" width="20" height="14" rx="2" ry="2" data-astro-cid-sz7xmlte></rect> <line x1="8" y1="21" x2="16" y2="21" data-astro-cid-sz7xmlte></line> <line x1="12" y1="17" x2="12" y2="21" data-astro-cid-sz7xmlte></line> </svg> </button> </div> </div>  </div> </footer>  <script>
  function setTheme(theme) {
    document.documentElement.classList.remove("light", "dark", "system");
    
    if (theme === "system") {
      document.documentElement.classList.add("system");
      const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
      document.documentElement.classList.add(systemTheme);
    } else {
      document.documentElement.classList.add(theme);
    }
    
    localStorage.setItem("theme", theme);
  }

  document.getElementById("light-theme-button")?.addEventListener("click", () => setTheme("light"));
  document.getElementById("dark-theme-button")?.addEventListener("click", () => setTheme("dark"));
  document.getElementById("system-theme-button")?.addEventListener("click", () => setTheme("system"));

  const savedTheme = localStorage.getItem("theme") || "system";
  setTheme(savedTheme);
</script>  </body> </html>