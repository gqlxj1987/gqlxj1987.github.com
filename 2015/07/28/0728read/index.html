<!DOCTYPE html><html lang="zh-CN"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.16.19"><meta name="description" content="Blog post"><title>Untitled</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lora:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"><link rel="stylesheet" href="/_astro/_title_.8kzbYMPX.css"><script type="module">const e=()=>{document.querySelectorAll(".animate").forEach((t,s)=>{setTimeout(()=>{t.classList.add("show")},s*150)})};e();document.addEventListener("astro:after-swap",e);
</script></head> <body> <header> <div class="mx-auto max-w-screen-sm px-5">  <div class="flex flex-wrap gap-y-2 justify-between"> <a href="/" class="font-semibold hover:underline underline-offset-2">
Blog
</a> <nav class="flex gap-1">  <a href="/archive" class="hover:underline underline-offset-2"> Archive </a> <span>/</span> <a href="/about" class="hover:underline underline-offset-2"> About </a>  </nav> </div>  </div> </header> <main>  <div class="mx-auto max-w-screen-sm px-5">  <div class="animate"> <a href="/archive" class="hover:underline underline-offset-2">
← Back to archive
</a> </div> <div class="space-y-1 my-10"> <div class="animate flex items-center gap-1.5"> <div class="font-base text-sm"> <time datetime="2015-07-28T00:00:00.000Z"> July 28, 2015 </time> </div> </div> <div class="animate text-2xl font-semibold text-black dark:text-white">  </div>  </div> <article class="animate"> <h2 id="title-今日阅读列表date-2015-07-28-163700categories-gotags-go">title: 今日阅读列表
date: 2015-07-28 16:37:00
categories: go
tags: [go]</h2>
<h3 id="gor">gor</h3>
<blockquote>
<p>Gor is a simple http traffic replication tool written in Go. Its main goal is to replay traffic from production servers to staging and dev environments.</p>
</blockquote>
<p><a href="https://github.com/buger/gor">项目地址</a></p>
<p>主要的使用命令：</p>
<ul>
<li>使用1个Gor Instance来进行listen和replay(有延迟)</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="shell"><code><span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> gor</span><span style="color:#79B8FF"> --input-raw</span><span style="color:#9ECBFF"> :80</span><span style="color:#79B8FF"> --output-http</span><span style="color:#9ECBFF"> "http://staging.com"</span></span>
<span class="line"></span></code></pre>
<p>这部分的功能好像有延迟的问题，需要考虑</p>
<ul>
<li>离线进行replay(推荐)</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="shell"><code><span class="line"><span style="color:#6A737D"># write to file</span></span>
<span class="line"><span style="color:#B392F0">gor</span><span style="color:#79B8FF"> --input-raw</span><span style="color:#9ECBFF"> :80</span><span style="color:#79B8FF"> --output-file</span><span style="color:#9ECBFF"> requests.gor</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># read from file</span></span>
<span class="line"><span style="color:#B392F0">gor</span><span style="color:#79B8FF"> --input-file</span><span style="color:#9ECBFF"> requests.gor</span><span style="color:#79B8FF"> --output-http</span><span style="color:#9ECBFF"> "http://staging.com"</span></span>
<span class="line"></span></code></pre>
<ul>
<li>采用单独的replay server来进行转存(未通过)</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="shell"><code><span class="line"><span style="color:#6A737D"># Replay server (replay.local).</span></span>
<span class="line"><span style="color:#B392F0">gor</span><span style="color:#79B8FF"> --input-tcp</span><span style="color:#9ECBFF"> replay.local:28020</span><span style="color:#79B8FF"> --output-http</span><span style="color:#9ECBFF"> http://staging.com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Run on servers where you want to catch traffic. You can run it on each `web` machine.</span></span>
<span class="line"><span style="color:#B392F0">sudo</span><span style="color:#9ECBFF"> gor</span><span style="color:#79B8FF"> --input-raw</span><span style="color:#9ECBFF"> :80</span><span style="color:#79B8FF"> --output-tcp</span><span style="color:#9ECBFF"> replay.local:28020</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<p>当然，这块还有更多的扩展</p>
<h3 id="jqueryeach">jquery.each</h3>
<blockquote>
<p>We can break the $.each() loop at a particular iteration by making the callback function return false. Returning non-false is the same as a continue statement in a for loop; it will skip immediately to the next iteration.</p>
</blockquote>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">(</span><span style="color:#F97583">function</span><span style="color:#E1E4E8">(){</span></span>
<span class="line"><span style="color:#6A737D">    // 結束循環（即break）</span></span>
<span class="line"><span style="color:#E1E4E8">    jQuery.</span><span style="color:#B392F0">each</span><span style="color:#E1E4E8">(aOptionList, </span><span style="color:#F97583">function</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">index</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">option</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (option.innerHTML </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "stop"</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#79B8FF"> false</span><span style="color:#E1E4E8">;  </span><span style="color:#6A737D">// 返回false即break掉each循環</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#6A737D">        // magic</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // 繼續下一個循環（即continue）</span></span>
<span class="line"><span style="color:#E1E4E8">    jQuery.</span><span style="color:#B392F0">each</span><span style="color:#E1E4E8">(aOptionList, </span><span style="color:#F97583">function</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">index</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">option</span><span style="color:#E1E4E8">){</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> (option.innerHTML </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "stop"</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">            return</span><span style="color:#79B8FF"> true</span><span style="color:#E1E4E8">;  </span><span style="color:#6A737D">// 返回任意非false值</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#6A737D">        // magic</span></span>
<span class="line"><span style="color:#E1E4E8">    });</span></span>
<span class="line"><span style="color:#E1E4E8">}());</span></span>
<span class="line"></span></code></pre>
<h3 id="ajax过程">ajax过程</h3>
<blockquote>
<ol>
<li>创建XMLHttpRequest对象,也就是创建一个异步调用对象.</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>创建一个新的HTTP请求,并指定该HTTP请求的方法、URL及验证信息.</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>设置响应HTTP请求状态变化的函数.</li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>发送HTTP请求.</li>
</ol>
</blockquote>
<blockquote>
<ol start="5">
<li>获取异步调用返回的数据.</li>
</ol>
</blockquote>
<blockquote>
<ol start="6">
<li>使用JavaScript和DOM实现局部刷新.</li>
</ol>
</blockquote>
<h3 id="浏览器并发">浏览器并发</h3>
<p>6个并发</p>
<h3 id="js闭包">js闭包</h3>
<ul>
<li>函数嵌套函数</li>
<li>函数内部可以引用外部的参数和变量</li>
<li>参数和变量不会被垃圾回收机制回收</li>
</ul>
<p>好处部分：</p>
<ul>
<li>希望一个变量长期驻扎在内存中</li>
<li>避免全局变量的污染</li>
<li>私有成员的存在</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#E1E4E8">&#x3C;</span><span style="color:#85E89D">script</span><span style="color:#E1E4E8">></span></span>
<span class="line"><span style="color:#E1E4E8">function outer(){</span></span>
<span class="line"><span style="color:#E1E4E8">        var x</span><span style="color:#F97583">=</span><span style="color:#79B8FF">10</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">        return </span><span style="color:#F97583">function</span><span style="color:#E1E4E8">(){             </span><span style="color:#6A737D">//函数嵌套函数</span></span>
<span class="line"><span style="color:#E1E4E8">                x</span><span style="color:#F97583">++</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#B392F0">                alert</span><span style="color:#E1E4E8">(x);</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"><span style="color:#E1E4E8">var y = outer();              //外部函数赋给变量y;</span></span>
<span class="line"><span style="color:#E1E4E8">y();                 //y函数调用一次，结果为11，相当于outer()()；</span></span>
<span class="line"><span style="color:#E1E4E8">y();                //y函数调用第二次，结果为12，实现了累加</span></span>
<span class="line"><span style="color:#E1E4E8">&#x3C;/</span><span style="color:#85E89D">script</span><span style="color:#E1E4E8">></span></span>
<span class="line"></span></code></pre> </article>  </div>  </main> <footer class="animate" data-astro-cid-sz7xmlte> <div class="mx-auto max-w-screen-sm px-5">  <div class="flex justify-between items-center" data-astro-cid-sz7xmlte> <div data-astro-cid-sz7xmlte>
&copy; 2026 | Blog
</div> <div class="flex flex-wrap gap-1 items-center" data-astro-cid-sz7xmlte> <button id="light-theme-button" aria-label="Light theme" class="group size-8 flex items-center justify-center rounded-full" data-astro-cid-sz7xmlte> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out" data-astro-cid-sz7xmlte> <circle cx="12" cy="12" r="5" data-astro-cid-sz7xmlte></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-sz7xmlte></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-sz7xmlte></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-sz7xmlte></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-sz7xmlte></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-sz7xmlte></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-sz7xmlte></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-sz7xmlte></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-sz7xmlte></line> </svg> </button> <button id="dark-theme-button" aria-label="Dark theme" class="group size-8 flex items-center justify-center rounded-full" data-astro-cid-sz7xmlte> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out" data-astro-cid-sz7xmlte> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-sz7xmlte></path> </svg> </button> <button id="system-theme-button" aria-label="System theme" class="group size-8 flex items-center justify-center rounded-full" data-astro-cid-sz7xmlte> <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-black group-hover:dark:stroke-white transition-colors duration-300 ease-in-out" data-astro-cid-sz7xmlte> <rect x="2" y="3" width="20" height="14" rx="2" ry="2" data-astro-cid-sz7xmlte></rect> <line x1="8" y1="21" x2="16" y2="21" data-astro-cid-sz7xmlte></line> <line x1="12" y1="17" x2="12" y2="21" data-astro-cid-sz7xmlte></line> </svg> </button> </div> </div>  </div> </footer>  <script>
  function setTheme(theme) {
    document.documentElement.classList.remove("light", "dark", "system");
    
    if (theme === "system") {
      document.documentElement.classList.add("system");
      const systemTheme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
      document.documentElement.classList.add(systemTheme);
    } else {
      document.documentElement.classList.add(theme);
    }
    
    localStorage.setItem("theme", theme);
  }

  document.getElementById("light-theme-button")?.addEventListener("click", () => setTheme("light"));
  document.getElementById("dark-theme-button")?.addEventListener("click", () => setTheme("dark"));
  document.getElementById("system-theme-button")?.addEventListener("click", () => setTheme("system"));

  const savedTheme = localStorage.getItem("theme") || "system";
  setTheme(savedTheme);
</script>  </body> </html>